F2. Playing Quidditch (Medium)
This afternoon, you decided to enjoy the first days of Spring by taking a walk outside. As you come near the Quidditch field, you hear screams. Once again, there is a conflict about the score: the two teams are convinced that they won the game! To prevent this problem from happening one more time, you decide to get involved in the refereeing of the matches.
Now, you will stay in the stadium to watch the game and count the score. At the end of the game, you will decide the winner.
Today, two teams are competing: the red Gryffindor (R) and the blue Ravenclaw (B) team. Each team is composed of ğ‘ƒP players (1â‰¤ğ‘ƒâ‰¤101â‰¤Pâ‰¤10).
The field is a rectangle of ğ‘N lines and ğ‘€M columns (3â‰¤ğ‘,ğ‘€â‰¤993â‰¤N,Mâ‰¤99, ğ‘N and ğ‘€M are odd). All the positions are integers, and several entities are allowed to be at the same position in the field. At the beginning of the game, the field contains goals for the two teams (each team can own between one and five goals), the players, and exactly one Quaffle. In this version of the problem, one Bludger can be present. An other type of ball will be available in the harder version of the problem.
A game is composed of ğ‘‡T steps (0â‰¤ğ‘‡â‰¤100000â‰¤Tâ‰¤10000). At each step, one entity on the field (a player or a ball) performs one action. All entities can move. A player can also catch a ball or throw the Quaffle that it is carrying. To catch a ball, a player must be located on the same cell as it. The Quaffle does not perform any action while it is being carried; it only follows the movements of the player. If a player carrying the Quaffle decides to throw it, the Quaffle is simply put at the current position of the player. If a player is on the same cell as a Bludger (either after a movement from the player or the Bludger), the player is eliminated. If the player is eliminated while it is carrying the Quaffle, the Quaffle remains on the cell containing both the player and the Bludger after the move. It is guaranteed that this never occurs while the player is in a cell containing a goal.
To win a point, a player must leave the Quaffle at a goal of the other team. When it does, the team of the player wins one point, and the Quaffle instantly moves to the middle of the field (the cell at the (ğ‘€+1)/2(M+1)/2-th column of the (ğ‘+1)/2(N+1)/2-th line of the field, starting from 1). There is no goal in the middle of the field. If a player puts the ball in its own goal, the other team wins the point.
Tags -implementation
Tags -*2300
