E1. Deterministic Heap (Easy Version)
This is the easy version of the problem. The difference between the two versions is the definition of deterministic max-heap, time limit, and constraints on ğ‘› and ğ‘¡. You can make hacks only if both versions of the problem are solved.
Consider a perfect binary tree with size 2ğ‘›âˆ’1, with nodes numbered from 1 to 2ğ‘›âˆ’1 and rooted at 1. For each vertex ğ‘£ (1â‰¤ğ‘£â‰¤2ğ‘›âˆ’1âˆ’1), vertex 2ğ‘£ is its left child and vertex 2ğ‘£+1 is its right child. Each node ğ‘£ also has a value ğ‘ğ‘£ assigned to it.
Define the operation pop as follows:
Then we say the pop operation is deterministic if there is a unique way to do such operation. In other words, ğ‘2ğ‘£â‰ ğ‘2ğ‘£+1 would hold whenever choosing between them.
A binary tree is called a max-heap if for every vertex ğ‘£ (1â‰¤ğ‘£â‰¤2ğ‘›âˆ’1âˆ’1), both ğ‘ğ‘£â‰¥ğ‘2ğ‘£ and ğ‘ğ‘£â‰¥ğ‘2ğ‘£+1 hold.
A max-heap is deterministic if the pop operation is deterministic to the heap when we do it for the first time.
Initially, ğ‘ğ‘£:=0 for every vertex ğ‘£ (1â‰¤ğ‘£â‰¤2ğ‘›âˆ’1), and your goal is to count the number of different deterministic max-heaps produced by applying the following operation add exactly ğ‘˜ times:
  - Choose an integer ğ‘£ (1â‰¤ğ‘£â‰¤2ğ‘›âˆ’1) and, for every vertex ğ‘¥ on the path between 1 and ğ‘£, add 1 to ğ‘ğ‘¥.
Two heaps are considered different if there is a node which has different values in the heaps.
Since the answer might be large, print it modulo ğ‘.
Tags -combinatorics
Tags -dp
Tags -math
Tags -trees
Tags -*2400
