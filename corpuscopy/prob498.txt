F. Reconstruction
There is a hidden array a1,a2,â€¦,anğ‘1,ğ‘2,â€¦,ğ‘ğ‘› of length nğ‘› whose elements are integers between âˆ’mâˆ’ğ‘š and mğ‘š, inclusive.
You are given an array b1,b2,â€¦,bnğ‘1,ğ‘2,â€¦,ğ‘ğ‘› of length nğ‘› and a string sğ‘  of length nğ‘› consisting of the characters P, S, and ?.
For each i from 1 to n inclusive, we must have:
  - If si=P, bi is the sum of a1 through ai.
  - If si=S, bi is the sum of ai through an.
Output the number of ways to replace all ? in s with either P or S such that there exists an array a1,a2,â€¦,an with elements not exceeding m by absolute value satisfying the constraints given by the array b1,b2,â€¦,bn and the string s.
Since the answer may be large, output it modulo 998244353.
Tags -brute force
Tags -dp
Tags -math
Tags -*2500
