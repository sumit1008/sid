E. MEXimize the Score
Suppose we partition the elements of an array ğ‘b into any number ğ‘˜k of non-empty multisets ğ‘†1,ğ‘†2,â€¦,ğ‘†ğ‘˜S1,S2,â€¦,Sk, where ğ‘˜k is an arbitrary positive integer. Define the score of ğ‘b as the maximum value of MEX(ğ‘†1)MEXâ¡(S1)âˆ—âˆ—+MEX(ğ‘†2)+â€¦+MEX(ğ‘†ğ‘˜)+MEXâ¡(S2)+â€¦+MEXâ¡(Sk) over all possible partitions of ğ‘b for any integer ğ‘˜k.
Envy is given an array ğ‘a of size ğ‘›n. Since he knows that calculating the score of ğ‘a is too easy for you, he instead asks you to calculate the sum of scores of all 2ğ‘›âˆ’12nâˆ’1 non-empty subsequences of ğ‘a.â€ â€  Since this answer may be large, please output it modulo 998244353998244353.
Tags -combinatorics
Tags -data structures
Tags -dp
Tags -greedy
Tags -implementation
Tags -math
Tags -*2200
