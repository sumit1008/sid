E. Sakurako, Kosuke, and the Permutation
Sakurako's exams are over, and she did excellently. As a reward, she received a permutation ğ‘p. Kosuke was not entirely satisfied because he failed one exam and did not receive a gift. He decided to sneak into her room (thanks to the code for her lock) and spoil the permutation so that it becomes simple.
A permutation ğ‘p is considered simple if for every ğ‘–i (1â‰¤ğ‘–â‰¤ğ‘›)(1â‰¤iâ‰¤n) one of the following conditions holds:
  - ğ‘ğ‘–=ğ‘–pi=i
  - ğ‘ğ‘ğ‘–=ğ‘–ppi=i
For example, the permutations [1,2,3,4][1,2,3,4], [5,2,4,3,1][5,2,4,3,1], and [2,1][2,1] are simple, while [2,3,1][2,3,1] and [5,2,1,4,3][5,2,1,4,3] are not.
In one operation, Kosuke can choose indices ğ‘–,ğ‘—i,j (1â‰¤ğ‘–,ğ‘—â‰¤ğ‘›)(1â‰¤i,jâ‰¤n) and swap the elements ğ‘ğ‘–pi and ğ‘ğ‘—pj.
Sakurako is about to return home. Your task is to calculate the minimum number of operations that Kosuke needs to perform to make the permutation simple.
Tags -brute force
Tags -data structures
Tags -dfs and similar
Tags -dsu
Tags -graphs
Tags -greedy
Tags -math
Tags -*1400
